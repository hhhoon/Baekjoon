# [Diamond IV] 떡국 - 1127 

[문제 링크](https://www.acmicpc.net/problem/1127) 

### 성능 요약

메모리: 2176 KB, 시간: 0 ms

### 분류

최대 유량, 최대 유량 최소 컷 정리

### 제출 일자

2024년 8월 3일 23:54:16

### 문제 설명

<p>떡국의 왕 도현이는 나라를 지키기 위해 각각의 도시에 경비를 뽑으려고 한다. 떡국에는 총 K개의 서로 다른 경비업체가 있으며, 각 경비업체는 일부 도시들에 사무실을 가지고 있다.</p>

<p>어떤 도시 A에서 경비업체 B가 일을 하려면, B는 A에 사무실이 있어야 한다. 이런 경우에 B는 A에 한 명의 경비를 일하게 할 수 있다. 사무실이 없는 경우에는 그 도시에 경비를 둘 수 없다.</p>

<p>도현이는 위의 규칙을 지키는 동안에는 원하는 만큼 경비를 고용할 수 있다. 하지만, 이미 있는 경비를 이동시키거나 해고시킬수는 없다.</p>

<p>도시 간에는 협력하는 관계가 있을 수 있다. 도시 A와 도시 B가 협력하는 관계이고, 경비업체 C의 경비가 A에서 일하는데, B에서는 경비업체 C의 경비가 없는 경우가 있다. 이런 경우를 충돌이라고 한다. 충돌의 개수는 모든 협력하는 도시의 쌍에서 존재하는 충돌의 개수이다. 한 도시에서 일하는 경비업체는 여러 개일 수 있기 때문에, 한 도시의 쌍에서 존재하는 충돌의 개수는 여러 개일 수도 있다.</p>

<p>협력하는 도시의 쌍과, 각 도시에 이미 있는 경비의 회사 이름, 경비업체의 사무실이 주어졌을 때, 경비를 적절히 뽑아 충돌의 개수를 최소로 하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 도시의 개수 N(1 ≤ N ≤ 50)이 주어진다.</p>

<p>둘째 줄에는 협력하는 도시의 관계가 인접행렬 형식으로 주어진다. 0은 협력하지 않는 관계를 나타내고, 1은 협력하는 관계를 나타낸다. 인접행렬을 A라고 했을 때, A[i][i] = 0, A[i][j] = A[j][i]를 만족한다.</p>

<p>다음 줄에는 떡국에 존재하는 경비업체의 수 K (1 ≤ K ≤ 50)가 주어진다. 다음 줄부터 N개의 줄에는 각 도시에 이미 있는 경비의 수와 경비업체의 번호가 0번 도시부터 차례대로 주어진다. 경비업체의 번호는 0부터 시작한다.</p>

<p>다음 줄부터 N개의 줄에는 각 도시에 있는 경비업체 사무실의 개수와 사무실을 가지고 있는 경비업체의 번호가 0번 도시부터 차례대로 주어진다.</p>

### 출력 

 <p>첫째 줄에 경비를 적절히 뽑아 만들 수 있는 충돌의 최솟값을 출력한다.</p>

